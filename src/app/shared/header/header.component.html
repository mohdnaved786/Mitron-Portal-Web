<!-- Navbar -->
<!-- <header
  class="fixed top-0 left-0 w-full bg-gradient-to-r from-cyan-300 via-green-400 via-yellow-200 to-red-300 flex flex-wrap items-center justify-between px-6 sm:px-10 py-3 shadow gap-4 z-40"> -->
<!-- <span
    class="absolute inset-x-0 bottom-0 h-4 bg-gradient-to-r from-cyan-300 via-green-400 via-yellow-200 to-red-300 blur-md opacity-60 -z-10"></span> -->
<!-- Left (Hamburger) -->
<!-- <button (click)="toggleSidebar()" class="flex text-gray-700 text-2xl focus:outline-none">
    <span class="material-symbols-outlined text-[30px]" *ngIf="!sidebarOpen">
      menu
    </span>
    <span class="material-symbols-outlined text-[30px]" *ngIf="sidebarOpen">
      menu_open
    </span>
  </button> -->

<!-- Center -->
<!-- <div class="flex items-center gap-2"> -->
<!-- <img src="assets/image/Frame.png" alt="logo" class="h-10 sm:h-10"> -->
<!-- </div> -->

<!-- <div class="w-[150px] flex justify-end items-center">
    <mat-slide-toggle [checked]="isActiveStatus" (change)="onToggleChange($event)" class="flex-row-reverse" [ngClass]="{
            'active-toggle': isActiveStatus,
            'inactive-toggle': !isActiveStatus
          }"> -->
<!-- fixed-width label prevents layout shift -->
<!-- <span class="inline-block w-[70px] text-center text-black font-medium whitespace-nowrap">
        {{ isActiveStatus ? "Online" : "Offline" }}
      </span>
    </mat-slide-toggle>
  </div> -->

<!-- Right -->
<!-- <div class="flex items-center gap-3">
    <img *ngIf="userInfo.profile" [src]="userInfo.profile" alt="Profile" class="rounded-full w-8 h-8 sm:w-10 sm:h-10" />

    <button class="font-semibold relative" matIconButton [matMenuTriggerFor]="menu"
      aria-label="Example icon-button with a menu">
      <span class="font-medium m-2 raleway" *ngIf="userInfo.username">{{
        userInfo.username
        }}</span>
      <i class="bi bi-chevron-down text-gray-900"></i>
    </button>
    <mat-menu #menu="matMenu" class="mt-5 bg-white head-drop">
      <button mat-menu-item>
        <mat-icon>account_circle</mat-icon>
        <span>My Profile</span>
      </button>
      <button mat-menu-item>
        <mat-icon>receipt</mat-icon>
        <span>Billing</span>
      </button>
      <button mat-menu-item>
        <mat-icon>settings</mat-icon>
        <span>Setup</span>
      </button>
      <button mat-menu-item (click)="authService.logout()">
        <mat-icon>logout</mat-icon>
        <span>Logout</span>
      </button>
    </mat-menu>
  </div>
</header> -->


<!-- new header code -->



<header class="fixed top-0 left-0 w-full bg-gradient-to-r from-cyan-300 via-green-400 via-yellow-200 to-red-300 
  flex items-center justify-between px-6 sm:px-10 py-3 shadow z-40">

  <!-- Left: Hamburger -->
  <button (click)="toggleSidebar()" class="flex text-gray-700 text-2xl focus:outline-none">
    <span class="material-symbols-outlined text-[30px]" *ngIf="!sidebarOpen">menu</span>
    <span class="material-symbols-outlined text-[30px]" *ngIf="sidebarOpen">menu_open</span>
  </button>

  <!-- Center (Logo area if needed) -->
  <div class="flex items-center gap-2"></div>

  <!-- Right Section -->
  <div class="flex items-center gap-7">

    <!-- Slide Toggle -->
    <mat-slide-toggle [checked]="isActiveStatus" (change)="onToggleChange($event)" class="flex-row-reverse"
      [ngClass]="{ 'active-toggle': isActiveStatus, 'inactive-toggle': !isActiveStatus }">

      <span class="inline-block w-[70px] text-center text-black font-medium whitespace-nowrap">
        {{ isActiveStatus ? "Online" : "Offline" }}
      </span>

    </mat-slide-toggle>

    <!-- Profile + Status + Username + Dropdown -->
    <div class="flex items-center gap-2 relative">

      <!-- Profile Image -->
      <div class="relative">
        <img *ngIf="userInfo?.profile" [src]="userInfo?.profile" alt="Profile"
          class="rounded-full w-10 h-10 object-cover border border-gray-300" />

        <!-- Status Dot -->
        <!-- <span class="absolute bottom-0 right-0 w-3 h-3 rounded-full border-2 border-white" [ngClass]="{
            'bg-green-500': isActiveStatus,
            'bg-red-500': !isActiveStatus
          }">
        </span> -->
      </div>

      <!-- Username + Dropdown -->
      <button class="font-semibold flex items-center gap-1" matIconButton [matMenuTriggerFor]="menu">

        <span class="font-medium raleway" *ngIf="userInfo?.userName">
          {{ userInfo?.userName }}
        </span>

        <i class="bi bi-chevron-down text-gray-900"></i>
      </button>

      <!-- Menu -->
      <mat-menu #menu="matMenu" class="bg-white head-drop">
        <button mat-menu-item>
          <mat-icon>account_circle</mat-icon>
          <span>My Profile</span>
        </button>
        <button mat-menu-item>
          <mat-icon>receipt</mat-icon>
          <span>Billing</span>
        </button>
        <button mat-menu-item>
          <mat-icon>settings</mat-icon>
          <span>Setup</span>
        </button>
        <button mat-menu-item (click)="authService.logout()">
          <mat-icon>logout</mat-icon>
          <span>Logout</span>
        </button>
      </mat-menu>

    </div>

  </div>

</header>













<!-- Sidebar -->
<div
  class="fixed top-16 left-0 h-[calc(100%-4rem)] w-64 bg-white shadow-lg transform transition-transform duration-300 ease-in-out z-50 flex flex-col min-h-screen sidebar-font"
  [ngClass]="{ '-translate-x-full': !sidebarOpen }">
  <nav class="px-3 py-2 space-y-2 flex-1 overflow-auto text-sm">
    <!-- Dashboard -->
    <a routerLink="/dashboard" (click)="closeSidebar()"
      class="flex items-center gap-3 p-2 rounded-lg text-black font-medium transition" [ngClass]="
        isActive('/dashboard')
          ? 'bg-gradient-to-r from-cyan-300 via-green-400 via-yellow-200 to-red-300 text-black shadow   hover:bg-gray-700'
          : 'text-black hover:bg-gray-100'
      ">
      <i class="bi-speedometer2 text-black font-medium"></i>
      Dashboard
    </a>

    <!-- Messages -->
    <a routerLink="/messages" (click)="closeSidebar()"
      class="flex items-center gap-3 p-2 rounded-lg text-black font-medium transition" [ngClass]="
        isActive('/messages')
          ? 'bg-gradient-to-r from-cyan-300 via-green-400 via-yellow-200 to-red-300 text-black shadow   hover:bg-gray-700'
          : 'text-black hover:bg-gray-100'
      ">
      <i class="bi-chat-left-text text-black font-medium"></i>
      Messages
    </a>

    <!-- Agents -->
    <a routerLink="/agents" (click)="closeSidebar()"
      class="flex items-center gap-3 p-2 text-black font-medium rounded-lg transition" [ngClass]="
        isActive('/agents')
          ? 'bg-gradient-to-r from-cyan-300 via-green-400 via-yellow-200 to-red-300 text-black shadow   hover:bg-gray-700'
          : 'text-black hover:bg-gray-100'
      ">
      <i class="bi-person text-black font-medium"></i>
      Agents
    </a>

    <!-- Customers -->
    <a routerLink="/customers" (click)="closeSidebar()"
      class="flex items-center gap-3 p-2 rounded-lg text-black font-medium transition " [ngClass]="
        isActive('/customers')
          ? 'bg-gradient-to-r from-cyan-300 via-green-400 via-yellow-200 to-red-300 text-black shadow   hover:bg-gray-700'
          : 'text-black hover:bg-gray-100'
      ">
      <i class="bi-people text-black font-medium"></i>
      Customers
    </a>

    <!-- Workflows -->
    <a routerLink="/workflows" (click)="closeSidebar()" class="flex items-center gap-3 p-2 rounded-lg transition"
      aria-readonly="true" [ngClass]="
        isActive('/workflows')
          ? 'bg-gradient-to-r from-cyan-300 via-green-400 via-yellow-200 to-red-300 text-black shadow   hover:bg-gray-700'
          : 'text-gray-600 hover:bg-gray-100'
      ">
      <i class="bi-list-task"></i>
      Workflows
    </a>

    <!-- Auto Pilot -->
    <a routerLink="/auto-pilot" (click)="closeSidebar()"
      class="flex items-center gap-3 p-2 rounded-lg text-black font-medium transition" [ngClass]="
        isActive('/auto-pilot')
          ? 'bg-gradient-to-r from-cyan-300 via-green-400 via-yellow-200 to-red-300 text-black shadow   hover:bg-gray-700'
          : 'text-black hover:bg-gray-100'
      ">
      <i class="bi-chat-dots"></i>
      Auto Pilot
    </a>

    <!-- Campaign -->
    <a routerLink="/campaign" (click)="closeSidebar()" class="flex items-center gap-3 p-2 rounded-lg transition"
      [ngClass]="
        isActive('/campaign')
          ? 'bg-gradient-to-r from-cyan-300 via-green-400 via-yellow-200 to-red-300 text-black shadow   hover:bg-gray-700'
          : 'text-gray-600 hover:bg-gray-100'
      ">
      <i class="bi-grid"></i>
      Campaign
    </a>

    <!-- Social -->
    <a routerLink="/social" (click)="closeSidebar()" class="flex items-center gap-3 p-2 rounded-lg transition"
      [ngClass]="
        isActive('/social')
          ? 'bg-gradient-to-r from-cyan-300 via-green-400 via-yellow-200 to-red-300 text-black shadow   hover:bg-gray-700'
          : 'text-gray-600 hover:bg-gray-100'
      ">
      <i class="bi-share"></i>
      Social
    </a>

    <!-- Reports -->
    <a routerLink="/reports" (click)="closeSidebar()" class="flex items-center gap-3 p-2 rounded-lg transition"
      [ngClass]="
        isActive('/reports')
          ? 'bg-gradient-to-r from-cyan-300 via-green-400 via-yellow-200 to-red-300 text-black shadow   hover:bg-gray-700'
          : 'text-gray-600 hover:bg-gray-100'
      ">
      <i class="bi-bar-chart"></i>
      Reports
    </a>

    <!-- Users -->
    <a routerLink="/users" (click)="closeSidebar()"
      class="flex items-center gap-3 p-2 rounded-lg text-black font-medium transition" [ngClass]="
        isActive('/users')
          ? 'bg-gradient-to-r from-cyan-300 via-green-400 via-yellow-200 to-red-300 text-black shadow   hover:bg-gray-700'
          : 'text-black hover:bg-gray-100'
      ">
      <i class="bi-person-circle text-black font-medium"></i>
      Users
    </a>
  </nav>

  <div class="sticky bottom-0 p-4 border-t z-44 bg-white">
    <a (click)="authService.logout()" class="flex items-center gap-3 p-2 rounded-lg transition" [ngClass]="
        isActive('/login')
          ? 'bg-gradient-to-r from-cyan-300 via-green-400 via-yellow-200 to-red-300 text-black shadow   hover:bg-gray-700'
          : 'text-gray-600 hover:bg-gray-100'
      ">
      <i class="bi bi-box-arrow-right"></i>
      Logout
    </a>
  </div>
</div>

<!-- Overlay -->
<div *ngIf="sidebarOpen" (click)="closeSidebar()"
  class="fixed top-16 left-0 h-[calc(100%-4rem)] w-full bg-black bg-opacity-50 z-40"></div>